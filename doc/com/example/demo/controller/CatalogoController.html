<!DOCTYPE HTML>
<html lang="es">
<head>
<!-- Generated by javadoc (17) on Sun Dec 19 14:44:18 CET 2021 -->
<title>CatalogoController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-12-19">
<meta name="description" content="declaration: package: com.example.demo.controller, class: CatalogoController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CatalogoController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.example.demo.controller</a></div>
<h1 title="Class CatalogoController" class="title">Class CatalogoController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.example.demo.controller.CatalogoController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Controller
</span><span class="modifiers">public class </span><span class="element-name type-name-label">CatalogoController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">CatalogoController</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#catalogo(org.springframework.ui.Model)" class="member-name-link">catalogo</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PÃ¡gina de catÃ¡logo.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#catalogoEdicion(org.springframework.ui.Model)" class="member-name-link">catalogoEdicion</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Este es el catalogo hecho exclusivamente para ediciÃ³n.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editarPedodp(long,org.springframework.ui.Model)" class="member-name-link">editarPedodp</a><wbr>(long&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recuperamos la variable de la ruta que serÃ¡ la referencia del pedido que recuperamos por el servicio y es el pedido
 que se va a editar en el catÃ¡logo desarrollado para el proceso de ediciÃ³n</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#envio(org.springframework.ui.Model)" class="member-name-link">envio</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PÃ¡gina para el envÃ­o.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#envioSubmit(org.springframework.ui.Model,java.lang.Double,java.lang.String)" class="member-name-link">envioSubmit</a><wbr>(org.springframework.ui.Model&nbsp;model,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&nbsp;precioASumar,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;direccion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">En esta pÃ¡gina se recupera los parÃ¡metros de dos radios para aÃ±adir
 o editar en el pedido la direcciÃ³n de envÃ­o y los gastos de envÃ­o</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#facturar(org.springframework.ui.Model)" class="member-name-link">facturar</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Esta pÃ¡gina es el resumen del pedido y en ella se cambian las
 banderas en los pedidos para evitar que un usuario si se salta
 el proceso no persistan los cambios (ya que la recuperaciÃ³n del
 pedido se hace accediendo al Ãºltimo aÃ±adido porque no lo guardamos
 en sesiÃ³n).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#historial(org.springframework.ui.Model)" class="member-name-link">historial</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">La pÃ¡gina que muestra el historial de pedidos del usuario.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#historialSubmit(org.springframework.ui.Model,long)" class="member-name-link">historialSubmit</a><wbr>(org.springframework.ui.Model&nbsp;model,
 long&nbsp;refPedido)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recuperamos por parÃ¡metro la referencia del pedido que se estÃ¡ mostrando en el historial y aplicamos un mÃ©todo para borrarlo</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#inicio(org.springframework.ui.Model)" class="member-name-link">inicio</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PÃ¡gina de inicio.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitCatalogo(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)" class="member-name-link">submitCatalogo</a><wbr>(org.springframework.ui.Model&nbsp;model,
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">En el catÃ¡logo hay un formulario asociado a cada producto con un botÃ³n para aÃ±adir y otro para borrar.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitCatalogoBorrar(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)" class="member-name-link">submitCatalogoBorrar</a><wbr>(org.springframework.ui.Model&nbsp;model,
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">AquÃ­ se recupera el objeto creado en el formulario al pulsar el botÃ³n borrar y comprueba si estÃ¡ o no estÃ¡ en el 
 pedido con su respectivo mensaje de error si no estÃ¡, si se han indicado mÃ¡s cantidad de la que estÃ¡ en el pedido.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitCatalogoBorrarEdicion(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)" class="member-name-link">submitCatalogoBorrarEdicion</a><wbr>(org.springframework.ui.Model&nbsp;model,
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">El borrar del catÃ¡logo de ediciÃ³n con un funcionamiento idÃ©ntico al catÃ¡logo de creaciÃ³n de pedido</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitCatalogoEdicion(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)" class="member-name-link">submitCatalogoEdicion</a><wbr>(org.springframework.ui.Model&nbsp;model,
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">El aÃ±adir del catÃ¡logo de ediciÃ³n con un funcionamiento idÃ©ntico al catÃ¡logo de creaciÃ³n de pedido</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>CatalogoController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">CatalogoController</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="inicio(org.springframework.ui.Model)">
<h3>inicio</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/inicioApp")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">inicio</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">PÃ¡gina de inicio. Controlamos el acceso sin login al guardar el usuario en la sesiÃ³n. Si estÃ¡ en medio del proceso de 
 realizaciÃ³n del pedido ce intenta ir atrÃ¡s sin finalizar el proceso, nos aseguramos el borrado</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="catalogo(org.springframework.ui.Model)">
<h3>catalogo</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/catalogo")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">catalogo</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">PÃ¡gina de catÃ¡logo. Si no hubiera sido tan perfeccionista para evitar que rompieran la app (saltÃ¡ndose el proceso si conoce
 las direcciones exactas) con estÃ¡ pÃ¡gina me hubiera servido tanto para nuevos pedidos como para las ediciones. Pero ante la
 complejidad de evitar excepciones he tomado la decisiÃ³n de hacer dos para cada funcionalidad, siendo Ã©ste para la creaciÃ³n 
 de nuevos pedidos, controlando esto Ãºltimo con el booleano isTramitado. Si el pedido existe (ya que antes de tramitar
 hemos dado la opciÃ³n de volver atrÃ¡s por si el usuario quiere retocar el pedido) recuperamos ese pedido y como no lo podemos
 guardar en la sesiÃ³n, ordenamos nuestro Hash Set de pedidos y recuperamos el Ãºltimo, ya que se ordenan por fechas siendo el
 primer valor el mÃ¡s reciente, y si no existe, se crea. En esta pÃ¡gina se carga el catÃ¡logo de productos de una colecciÃ³n.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitCatalogo(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)">
<h3>submitCatalogo</h3>
<div class="member-signature"><span class="annotations">@PostMapping(value="/catalogo",
             params="anadir")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">submitCatalogo</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model,
 @Valid @ModelAttribute("productoGenerado")
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</span></div>
<div class="block">En el catÃ¡logo hay un formulario asociado a cada producto con un botÃ³n para aÃ±adir y otro para borrar. Pues aquÃ­ se
 recuperan los parÃ¡metros del botÃ³n aÃ±adir que van editando los atributos del objeto producto que se genera que se aÃ±ade
 a la colecciÃ³n del pedido. La cantidad, un atributo del producto, tiene la validaciÃ³n de Spring requerida en el enunciado,
 controlando que estÃ© entre 1 y 10 y que no sea nulo. Mientras se aÃ±aden productos se ofrece informaciÃ³n del pedido y se 
 muestra el carrito actualizado</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dd><code>producto</code> - </dd>
<dd><code>bindingResult</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitCatalogoBorrar(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)">
<h3>submitCatalogoBorrar</h3>
<div class="member-signature"><span class="annotations">@PostMapping(value="/catalogo",
             params="borrar")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">submitCatalogoBorrar</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model,
 @Valid @ModelAttribute("productoGenerado")
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</span></div>
<div class="block">AquÃ­ se recupera el objeto creado en el formulario al pulsar el botÃ³n borrar y comprueba si estÃ¡ o no estÃ¡ en el 
 pedido con su respectivo mensaje de error si no estÃ¡, si se han indicado mÃ¡s cantidad de la que estÃ¡ en el pedido. Como en 
 el caso anterior se van mostrando mediantem el envÃ­o de model mensajes sobre el pedido y se muestra el carrito. TambiÃ©n tiene
 una validaciÃ³n con el atributo cantidad.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dd><code>producto</code> - </dd>
<dd><code>bindingResult</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="catalogoEdicion(org.springframework.ui.Model)">
<h3>catalogoEdicion</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/catalogoEdicion")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">catalogoEdicion</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Este es el catalogo hecho exclusivamente para ediciÃ³n. Para evitar que en mitad del proceso un usuario que conozca la ruta 
 y vaya hacia el Historial de Pedidos donde se mostrarÃ¡ el pedido guardado (ya que lo recuperamos, guÃ¡rdÃ¡ndolo en la
 colecciÃ³n del usuario al no poder el guardar pedido en la sesiÃ³n) se han aÃ±adido dos banderas para controlar siempre que si
 se truca el proceso al ir el historial se muestre el pedido tal y como estaba antes del proceso ediciÃ³n. Para ello
 se ha conseguido los atributos del pedido mediante mÃ©todos (ya que no se pueden hacer copias independientes en Java) y 
 esos atributos sÃ­ que se han guardado en sesiÃ³n</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitCatalogoEdicion(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)">
<h3>submitCatalogoEdicion</h3>
<div class="member-signature"><span class="annotations">@PostMapping(value="/catalogoEdicion",
             params="anadir")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">submitCatalogoEdicion</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model,
 @Valid @ModelAttribute("productoGenerado")
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</span></div>
<div class="block">El aÃ±adir del catÃ¡logo de ediciÃ³n con un funcionamiento idÃ©ntico al catÃ¡logo de creaciÃ³n de pedido</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dd><code>producto</code> - </dd>
<dd><code>bindingResult</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitCatalogoBorrarEdicion(org.springframework.ui.Model,com.example.demo.model.Producto,org.springframework.validation.BindingResult)">
<h3>submitCatalogoBorrarEdicion</h3>
<div class="member-signature"><span class="annotations">@PostMapping(value="/catalogoEdicion",
             params="borrar")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">submitCatalogoBorrarEdicion</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model,
 @Valid @ModelAttribute("productoGenerado")
 @Valid <a href="../model/Producto.html" title="class in com.example.demo.model">Producto</a>&nbsp;producto,
 org.springframework.validation.BindingResult&nbsp;bindingResult)</span></div>
<div class="block">El borrar del catÃ¡logo de ediciÃ³n con un funcionamiento idÃ©ntico al catÃ¡logo de creaciÃ³n de pedido</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dd><code>producto</code> - </dd>
<dd><code>bindingResult</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="envio(org.springframework.ui.Model)">
<h3>envio</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/envio")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">envio</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">PÃ¡gina para el envÃ­o. Se vuelve a controlar el acceso sin login y 
 vale tanto para indicar el envÃ­o y la direcciÃ³n (que se da la
 opciÃ³n de que se envie a la direcciÃ³n del usuario) de un pedido
 de nueva creaciÃ³n o de un pedido en el historial que se va a editar
 (controlado esto Ãºltimo con banderas)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="envioSubmit(org.springframework.ui.Model,java.lang.Double,java.lang.String)">
<h3>envioSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/envio")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">envioSubmit</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model,
 @RequestParam(value="precio",required=false)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" title="class or interface in java.lang" class="external-link">Double</a>&nbsp;precioASumar,
 @RequestParam(value="direccion",required=false)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;direccion)</span></div>
<div class="block">En esta pÃ¡gina se recupera los parÃ¡metros de dos radios para aÃ±adir
 o editar en el pedido la direcciÃ³n de envÃ­o y los gastos de envÃ­o</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dd><code>precioASumar</code> - </dd>
<dd><code>direccion</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="facturar(org.springframework.ui.Model)">
<h3>facturar</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/factura")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">facturar</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Esta pÃ¡gina es el resumen del pedido y en ella se cambian las
 banderas en los pedidos para evitar que un usuario si se salta
 el proceso no persistan los cambios (ya que la recuperaciÃ³n del
 pedido se hace accediendo al Ãºltimo aÃ±adido porque no lo guardamos
 en sesiÃ³n). Se dan las opciones de tramitar el pedido (para que te
 muestre el historial o vuelva a empezar y te reenvÃ­e al catÃ¡logo).
 Se controla el acceso sin haberse logueado.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="historial(org.springframework.ui.Model)">
<h3>historial</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/historial")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">historial</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">La pÃ¡gina que muestra el historial de pedidos del usuario. Se
 controla que no se acceda sin login y que el usuario no tenga
 pedido alguno en su historial. Para evitar que cuando un pedido
 estÃ© en proceso y si se conoce la ruta se vaya a esta pÃ¡gina sin
 haber finalizado la tramitaciÃ³n he hecho dos 'caminos': uno
 para los pedidos de nueva creaciÃ³n y otro para los editados con
 varias banderas para borrar los pedidos de nueva creaciÃ³n no
 finalizados o para volver a dejar como estaban los pedidos que se
 van a editar.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="historialSubmit(org.springframework.ui.Model,long)">
<h3>historialSubmit</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/historial")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">historialSubmit</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model,
 @RequestParam(name="idBorrado")
 long&nbsp;refPedido)</span></div>
<div class="block">Recuperamos por parÃ¡metro la referencia del pedido que se estÃ¡ mostrando en el historial y aplicamos un mÃ©todo para borrarlo</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - </dd>
<dd><code>refPedido</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="editarPedodp(long,org.springframework.ui.Model)">
<h3>editarPedodp</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/historial/edit/{id}")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">editarPedodp</span><wbr><span class="parameters">(@PathVariable
 long&nbsp;id,
 org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Recuperamos la variable de la ruta que serÃ¡ la referencia del pedido que recuperamos por el servicio y es el pedido
 que se va a editar en el catÃ¡logo desarrollado para el proceso de ediciÃ³n</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - </dd>
<dd><code>model</code> - </dd>
<dt>Returns:</dt>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
